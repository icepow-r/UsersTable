@using Microsoft.AspNetCore.Identity
@using UsersTable.Models

@model List<User>
@{
	ViewData["Title"] = "Home Page";
}


<form method="post">
	<input type="submit" asp-action="Block" class="btn btn-primary" value="Block" />
	<input type="submit" asp-action="Unblock" class="btn btn-primary" value="Unblock" />
	<input type="submit" asp-action="Delete" class="btn btn-primary" value="Delete" />
	<table class="table table-hover">
		<thead>
			<tr>
				<th><input type="checkbox" onclick='selectCheckboxes()' id="selectAll" /></th>
				<th>Id</th>
				<th>Name</th>
				<th>Email</th>
				<th>Registraion Date</th>
				<th>Last Login</th>
				<th>Status</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model)
			{
				<tr>
					<td>
						<input type="checkbox" value="@item.Id" name="idcheck">
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Id)
					</td>

					<td>
						@Html.DisplayFor(modelItem => item.Name)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Email)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.RegistrationDate)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.LastLogin)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Status)
					</td>
				</tr>
			}
		</tbody>
	</table>
</form>

<script>
	function selectCheckboxes() {
		let checkboxes = document.getElementsByName("idcheck");
		if (document.getElementById("selectAll").checked == true) {
			for (let x of checkboxes) {
				x.checked = true;
			}
		}
		else {
			for (let x of checkboxes) {
				x.checked = false;
			}
		}
	}
</script>
